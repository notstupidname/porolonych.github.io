var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(m){var h=0;return function(){return h<m.length?{done:!1,value:m[h++]}:{done:!0}}};$jscomp.arrayIterator=function(m){return{next:$jscomp.arrayIteratorImpl(m)}};$jscomp.makeIterator=function(m){var h="undefined"!=typeof Symbol&&Symbol.iterator&&m[Symbol.iterator];return h?h.call(m):$jscomp.arrayIterator(m)};
var cartApi=function(){function m(){localStorage.setItem("shoppingCart",JSON.stringify(h))}var h=[],u=function(d,g,c,n,r){this.id=d;this.title=g;this.price=c;this.url=n;this.count=r};null!=localStorage.getItem("shoppingCart")&&(h=JSON.parse(localStorage.getItem("shoppingCart")));return{addNewItemToCart:function(d,g,c,n,r){for(var w=$jscomp.makeIterator(h),l=w.next();!l.done;l=w.next())if(l=l.value,l.id===d)return l.count+=r,m(),l.count;d=new u(d,g,c,n,r);h.push(d);m();return d.count},addItemToCart:function(d){for(var g=
$jscomp.makeIterator(h),c=g.next();!c.done;c=g.next())if(c=c.value,c.id==d)return c.count++,m(),c.count},setCountForItem:function(d,g){for(var c=$jscomp.makeIterator(h),n=c.next();!n.done;n=c.next())if(n=n.value,n.id===d)return n.count=g,m(),n.count},removeItemFromCart:function(d){for(var g=$jscomp.makeIterator(h),c=g.next();!c.done;c=g.next())if(c=c.value,c.id===d)return c.count--,0===c.count&&h.splice(h.indexOf(c),1),m(),c.count},removeItemFromCartAll:function(d){for(var g=$jscomp.makeIterator(h),
c=g.next();!c.done;c=g.next())if(c=c.value,c.id===d){h.splice(h.indexOf(c),1);m();break}},clearCart:function(){h=[];m()},totalCount:function(){for(var d=0,g=$jscomp.makeIterator(h),c=g.next();!c.done;c=g.next())d+=c.value.count;return d},totalCart:function(){for(var d=0,g=$jscomp.makeIterator(h),c=g.next();!c.done;c=g.next())c=c.value,d+=c.price*c.count;return Number(d.toFixed(2))},listCart:function(){return h},cartToQuerry:function(){for(var d="",g=$jscomp.makeIterator(h),c=g.next();!c.done;c=g.next())item=
c.value,d+="&product="+encodeURIComponent(item.title)+"&price="+encodeURIComponent(item.price)+"&count="+encodeURIComponent(item.count)+"&url="+encodeURIComponent(item.url);return d}}}();
(function(){function m(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}function h(){var a=cartApi.listCart(),b=document.querySelector(".show-cart");b.innerHTML="";var f=document.createDocumentFragment();a=$jscomp.makeIterator(a);for(var e=a.next();!e.done;e=a.next()){e=e.value;var t=document.createElement("div");t.id=e.id;t.classList.add("cart-item");var q=document.createElement("a");q.href=e.url;t.appendChild(q);var k=document.createElement("img");k.classList.add("image");k.src="/images"+
e.url+"-01_400w.jpg";q.appendChild(k);q=document.createElement("div");q.classList.add("cart-text");t.appendChild(q);k=document.createElement("a");k.href=e.url;k.innerText=e.title;q.appendChild(k);k=document.createElement("h3");k.innerText=m(e.price)+" \u20bd";q.appendChild(k);var x=document.createElement("div");q.appendChild(x);k=document.createElement("a");k.classList.add("minus-item","button");k.setAttribute("data",e.id);k.innerText="-";x.appendChild(k);k=document.createElement("input");k.classList.add("count");
k.setAttribute("data",e.id);k.setAttribute("type","number");k.setAttribute("min",1);k.value=e.count;x.appendChild(k);k=document.createElement("a");k.classList.add("plus-item","button");k.setAttribute("data",e.id);k.innerText="+";x.appendChild(k);f.appendChild(t)}b.appendChild(f)}function u(){var a=cartApi.totalCart(),b=cartApi.totalCount(),f=document.querySelectorAll(".total-count");f=$jscomp.makeIterator(f);for(var e=f.next();!e.done;e=f.next())e.value.innerText=b;document.querySelector(".total-cart").innerText=
m(a);f=document.querySelector(".order");e=document.querySelector(".cart.float");0<b&&f.classList.contains("disabled")?f.classList.remove("disabled"):0!=b||f.classList.contains("disabled")||f.classList.add("disabled");0<b&&e.classList.contains("disabled")?e.classList.remove("disabled"):0!=b||e.classList.contains("disabled")||e.classList.add("disabled");document.querySelector(".cart-string").setAttribute("value",a)}var d=document.querySelector("body"),g=document.querySelector("#nav"),c=document.querySelector('a[href="#nav"]'),
n=document.querySelector("#nav .close"),r=document.querySelector("#cart"),w=document.querySelectorAll('a[href="#cart"]'),l=document.querySelector("#cart .close"),p=document.querySelector("#backtotop");window.addEventListener("load",function(){d.classList.remove("is-loading");d.classList.remove("trans")});var y=function(){g.classList.remove("visible");d.classList.remove("menu-visible")},z=function(){r.classList.remove("visible");d.classList.remove("menu-visible")},D=function(){r.classList.toggle("visible");
d.classList.toggle("menu-visible")};d.addEventListener("click",function(a){d.classList.contains("menu-visible")&&(a.preventDefault(),a.stopPropagation(),y(),z())},!1);g.addEventListener("click",function(a){a.stopPropagation()},!1);r.addEventListener("click",function(a){a.stopPropagation()},!1);c.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();g.classList.toggle("visible");d.classList.toggle("menu-visible")},!1);n.addEventListener("click",function(a){a.preventDefault();
a.stopPropagation();y()},!1);c=$jscomp.makeIterator(w);for(n=c.next();!n.done;n=c.next())n.value.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();D()},!1);l.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();z()},!1);var E=function(a){var b=this.getAttribute("href"),f=this.getAttribute("target");b&&-1==b.indexOf("#")&&-1==b.indexOf("tel")&&-1==b.indexOf("wa.me")&&-1==b.indexOf("mailto")&&"_blank"!=f&&(a.preventDefault(),a.stopPropagation(),y(),z(),
d.classList.add("trans"),window.setTimeout(function(){window.location.href=b;console.log("250")},250))};d.addEventListener("click",function(a){for(var b=a.target;b&&b!=this;b=b.parentNode)if(b.matches("a")){E.call(b,a);break}},!1);g.addEventListener("click",function(a){for(var b=a.target;b&&b!=this;b=b.parentNode)if(b.matches("a")){E.call(b,a);break}},!1);window.addEventListener("pageshow",function(a){!0===a.persisted&&d.classList.remove("trans")},!1);p&&p.addEventListener("click",function(a){a.preventDefault();
a.stopPropagation();d.scrollIntoView(!0,{behavior:"smooth"})},!1);h();u();l=document.querySelector(".order");p=document.querySelectorAll(".return-to-cart");var A=document.querySelector(".cart-cart"),B=document.querySelector(".form-wrapper");l.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();this.classList.contains("disabled")||(A.classList.add("hide"),B.classList.remove("hide"),B.classList.add("fade-in"))});l=$jscomp.makeIterator(p);for(p=l.next();!p.done;p=l.next())p.value.addEventListener("click",
function(a){a.preventDefault();a.stopPropagation();B.classList.add("hide");A.classList.remove("hide");A.classList.add("fade-in");a=this.parentNode;if(a.classList.contains("form-success")||a.classList.contains("form-error")){var b=document.querySelector(".ajax-form");a.classList.add("hide");b.classList.remove("hide");b.classList.add("fade-in")}});var v=document.querySelector("#param_select");if(l=document.getElementById("products_list"))var C=JSON.parse(l.textContent);(l=document.querySelector(".add-to-cart"))&&
l.addEventListener("click",function(a){a.preventDefault();a.stopPropagation();if(v){a=$jscomp.makeIterator(C);for(var b=a.next();!b.done;b=a.next())if(b=b.value,b.id==v.value){var f=b;break}}else f=C[0];0==cartApi.totalCount()&&D();cartApi.addNewItemToCart(f.id,f.title,f.price,f.url,1);h();u();var e=this;e.innerHTML="\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e";window.setTimeout(function(){e.innerHTML="\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"},2500,e)},!1);v&&v.addEventListener("change",
function(a){a=$jscomp.makeIterator(C);for(var b=a.next();!b.done;b=a.next())if(b=b.value,b.id==v.value){document.getElementById("price").textContent=b.price;break}},!1);if(p=document.querySelectorAll(".price-select"))for(l={},p=$jscomp.makeIterator(p),c=p.next();!c.done;l={$jscomp$loop$prop$current_select$24:l.$jscomp$loop$prop$current_select$24},c=p.next())l.$jscomp$loop$prop$current_select$24=c.value,l.$jscomp$loop$prop$current_select$24.addEventListener("change",function(a){return function(b){this.parentNode.parentNode.querySelector("span").textContent=
a.$jscomp$loop$prop$current_select$24.value}}(l),!1);r.addEventListener("click",function(a){for(var b=a.target;b&&b!=this;b=b.parentNode)if(b.matches(".minus-item, .plus-item")){a.preventDefault();a.stopPropagation();var f=b.getAttribute("data");a=b.parentNode.querySelector("input");b.classList.contains("plus-item")?a.value=cartApi.addItemToCart(f):(f=cartApi.removeItemFromCart(f),0<f?a.value=f:(b=b.parentNode.parentNode.parentNode,b.parentNode.removeChild(b)));u();break}},!1);r.addEventListener("change",
function(a){for(var b=a.target;b&&b!=this;b=b.parentNode)if(b.matches(".count")){a.preventDefault();a.stopPropagation();a=b.getAttribute("data");0<parseInt(b.value)?cartApi.setCountForItem(a,parseInt(b.value)):(b=b.parentNode.parentNode.parentNode,b.parentNode.removeChild(b),cartApi.removeItemFromCartAll(a));u();break}},!1);document.querySelector(".ajax-form").addEventListener("submit",function(a){a.preventDefault();var b=this.parentNode.querySelector(".form-loading"),f=this.parentNode.querySelector(".form-success"),
e=this.parentNode.querySelector(".form-error");a={name:this.elements.name.value,email:this.elements.email.value,phone:this.elements.phone.value,shipping:this.elements.shipping.value,message:this.elements.message.value,cart_sum:this.elements.cartstring.value,cart:cartApi.listCart()};this.classList.add("hide");b.classList.remove("hide");b.classList.add("fade-in");var t=new XMLHttpRequest;t.open("POST","https://notstupidapp.ew.r.appspot.com/shopapi/v2/porolonych");t.onload=function(){if(200<=this.status&&
400>this.status){try{yaCounter15918124.reachGoal("order")}catch(q){console.error(q)}console.log("Success");console.log(this.responseText);b.classList.add("hide");f.classList.remove("hide");f.classList.add("fade-in");cartApi.clearCart();h();u()}else console.log("Server returned error"),b.classList.add("hide"),e.classList.remove("hide"),e.classList.add("fade-in")};t.onerror=function(){console.log("Connection error");b.classList.add("hide");e.classList.remove("hide");e.classList.add("fade-in")};t.send(JSON.stringify(a))},
!1)})();